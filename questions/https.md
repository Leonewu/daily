## https
### 处在哪一层
### https证书申请
CA将个人信息和公钥两者关系绑定后，产生摘要，再通过私钥加密摘要生成数字签名，再将数字签名和提供的个人信息和公钥合并为数字证书
### 解决了http存在的问题
* `http`没有验证服务器身份
* `http`报文都是明文传输，没有经过加密
### 与http的区别
* 端口区别

### https的流程
1. `client`向`server`的443端口发起请求
2. `server`发送证书给`client`，证书包含原始信息（哈希散列算法，公钥，个人信息，序列号，有效时间）和数字签名（用哈希散列算法加密原始信息，得到信息摘要，再用私钥加密信息摘要），支持的对称加密算法
3. `client`先验证证书是否有效，域名是否和`server`的域名相同，证书的CA机构是否可靠（递归），然后用证书中的哈希散列算法计算证书中的原始信息，算出信息摘要，再用证书中的公钥解密数字签名，得到信息摘要，两个信息摘要对比，就可以看出是否有中间人篡改了。如果没问题，就生成随机的对称加密算法，用公钥加密后发送给`server`
4. 后续的报文传输都用上面的对称加密算法

## 参考
* [https的建立流程](https://segmentfault.com/a/1190000000476876)
* [https是如何保证安全的](https://juejin.im/post/5da04c1651882555704c868b)
* [深入理解https工作原理](https://github.com/ljianshu/Blog/issues/50)